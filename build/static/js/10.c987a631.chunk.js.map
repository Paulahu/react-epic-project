{"version":3,"sources":["../node_modules/antd/es/divider/index.js","pages/Register.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Divider","props","React","ConfigConsumer","_ref","_classNames","getPrefixCls","direction","customizePrefixCls","prefixCls","_props$type","type","_props$orientation","orientation","className","children","dashed","plain","restProps","orientationPrefix","concat","hasChildren","classString","classNames","role","Wrapper","styled","div","Title","h1","layout","labelCol","span","wrapperCol","tailLayout","offset","Component","AuthStore","useStores","history","useHistory","style","marginTop","name","onFinish","values","console","log","setUsername","username","setPassword","password","register","then","push","catch","onFinishFailed","errorInfo","Item","label","rules","required","message","validator","rule","test","Promise","reject","resolve","min","max","Password","getFieldValue","htmlType"],"mappings":"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","file":"static/js/10.c987a631.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Divider = function Divider(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var _classNames;\n\n    var getPrefixCls = _ref.getPrefixCls,\n        direction = _ref.direction;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$type = props.type,\n        type = _props$type === void 0 ? 'horizontal' : _props$type,\n        _props$orientation = props.orientation,\n        orientation = _props$orientation === void 0 ? 'center' : _props$orientation,\n        className = props.className,\n        children = props.children,\n        dashed = props.dashed,\n        plain = props.plain,\n        restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"className\", \"children\", \"dashed\", \"plain\"]);\n\n    var prefixCls = getPrefixCls('divider', customizePrefixCls);\n    var orientationPrefix = orientation.length > 0 ? \"-\".concat(orientation) : orientation;\n    var hasChildren = !!children;\n    var classString = classNames(className, prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\"), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\").concat(orientationPrefix), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-dashed\"), !!dashed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-plain\"), !!plain), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: classString\n    }, restProps, {\n      role: \"separator\"\n    }), children && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-inner-text\")\n    }, children));\n  });\n};\n\nexport default Divider;","import {Form, Input, Button, Divider} from 'antd'\nimport React from 'react'\nimport styled from 'styled-components'\nimport { useStores } from '../stores'\nimport { useHistory } from 'react-router-dom'\n\nconst Wrapper = styled.div`\n  max-width: 600px;\n  margin: 30px auto;\n  box-shadow: 2px 2px 4px 0 rgba(0,0,0,0.2);\n  border-radius: 4px;\n  padding: 20px;\n  background: #fff;\n  opacity: 0.8;\n`\n\nconst Title = styled.h1`\n text-align: left;\n  margin: 0 0 10px 10px;\n  font-size: 20px\n`\n\nconst layout = {\n  labelCol: {\n    span: 4,\n  },\n  wrapperCol: {\n    span: 20,\n  },\n}\nconst tailLayout = {\n  wrapperCol: {\n    offset: 4,\n    span: 20,\n  },\n}\n\nconst Component = () => {\n  const { AuthStore } = useStores()\n  const history = useHistory()\n\n  const onFinish = values => {\n    console.log('Success:', values)\n    AuthStore.setUsername(values.username)\n    AuthStore.setPassword(values.password)\n    AuthStore.register()\n      .then(() => {\n        console.log('注册成功,跳转到首页')\n        history.push('/')\n      })\n      .catch(() => {\n        console.log('注册失败，什么都不做')\n      })\n  }\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo)\n  }\n\n  const validateUsername = (rule, value) => {\n    if(/\\W/.test(value)) return Promise.reject('只能是字母、数字或下划线')       //\\w是指出来字母、数字、下划线外的其他字符\n    if(value.length < 4 || value.length > 10) return Promise.reject('长度为4~10个字符')\n    return Promise.resolve()\n  }\n\n  const validateConfirm = ({getFieldValue}) => ({   //返回的是一个validator对象，加括号包裹\n    validator(rule,value) {                         //getFieldValue可以获取其他输入框里的内容\n      if(getFieldValue('password') === value) return Promise.resolve()\n      return Promise.reject('两次密码不一致')\n    }\n  })\n\n  return (\n    <Wrapper>\n      <Title>注册</Title>\n      <Divider style={{marginTop: '0'}} />\n      <Form style={{marginTop: '50px'}}\n        {...layout}\n        name=\"basic\"\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n      >\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[\n            {\n              required: true,\n              message: '请输入您的用户名!',\n            },\n            {\n              validator: validateUsername   //validateUsername函数\n            }\n          ]}\n        >\n          <Input/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"密码\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: '请输入您的密码!',\n            },\n            {\n              min: 4,\n              message: '最少4个字符'\n            },\n            {\n              max: 10,\n              message: '最多10个字符'\n            }\n          ]}\n        >\n          <Input.Password/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"确认密码\"\n          name=\"confirmPassword\"\n          rules={[\n            {\n              required: true,\n              message: '请再次确认您的密码!',\n            },\n            validateConfirm   //和页面其他的元素协同判断\n          ]}\n        >\n          <Input.Password/>\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            提交\n          </Button>\n        </Form.Item>\n      </Form>\n    </Wrapper>\n  )\n}\n\nexport default Component"],"sourceRoot":""}